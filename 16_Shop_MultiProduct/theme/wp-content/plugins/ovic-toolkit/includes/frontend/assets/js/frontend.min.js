!function (t) {
    "use strict";
    t.fn.ovic_vertical_menu = function () {
        var e = 0, a = t(this).find(".vertical-menu"), i = t(this).closest(".block-nav-category"), o = t(this).find(".block-title"); t(this).each(function () { var a = t(this).data("items") - 1; e = t(this).find(".vertical-menu>li").length, e > a + 1 && t(this).addClass("show-button-all"), t(this).find(".vertical-menu>li").each(function (i) { e += 1, i > a && t(this).addClass("link-other") }) }), a.length > 0 && (t(document).on("click", ".open-cate",
            function (e) { i.find("li.link-other").each(function () { t(this).slideDown() }), t(this).addClass("close-cate").removeClass("open-cate").html(t(this).data("closetext")), e.preventDefault() }), t(document).on("click", ".close-cate", function (e) { i.find("li.link-other").each(function () { t(this).slideUp() }), t(this).addClass("open-cate").removeClass("close-cate").html(t(this).data("alltext")), e.preventDefault() }), o.on("click", function () { t(this).toggleClass("active"), t(this).parent().toggleClass("has-open"), t("body").toggleClass("category-open") }))
    }, t.fn.ovic_animation_tabs = function (e) { e = void 0 === e || "" === e ? "" : e, "" !== e && t(this).find(".owl-slick .slick-active, .product-list-grid .product-item").each(function (a) { var i = t(this), o = i.attr("style"), n = 200 * a; o = void 0 === o ? "" : o, i.attr("style", o + ";-webkit-animation-delay:" + n + "ms;-moz-animation-delay:" + n + "ms;-o-animation-delay:" + n + "ms;animation-delay:" + n + "ms;").addClass(e + " animated").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend", function () { i.removeClass(e + " animated"), i.attr("style", o) }) }) },
        t.fn.ovic_init_carousel = function () {
            t(this).not(".slick-initialized").each(function () {
                var e = t(this), a = e.data("responsive"),
                    i = [];
                t("body").hasClass("rtl") && (i.rtl = !0), e.hasClass("slick-vertical") ? (i.prevArrow = '<span class="fa fa-angle-up prev"></span>', i.nextArrow = '<span class="fa fa-angle-down next"></span>') : (i.prevArrow = '<span class="fa fa-angle-left prev"></span>', i.nextArrow = '<span class="fa fa-angle-right next"></span>'), ("" !== a || void 0 !== a) && (i.responsive = a), e.on("init", function () { e.trigger("ovic_trigger_init_slide") }), e.slick(i), e.on("beforeChange", function () { e.trigger("ovic_trigger_before_change_slide") }), e.on("afterChange", function () { e.find(".lazy").ovic_init_lazy_load(), e.trigger("ovic_trigger_after_change_slide") }), e.on("setPosition", function () { e.trigger("ovic_trigger_setPosition_slide") });
            });
        },
        t.fn.ovic_product_thumb = function () {
            t(this).not(".slick-initialized").each(function () {
                var e = t(this), a = "" !== ovic_ajax_frontend.data_responsive ? JSON.parse(ovic_ajax_frontend.data_responsive) : "", i = "" !== ovic_ajax_frontend.data_slick ? JSON.parse(ovic_ajax_frontend.data_slick) : ""; "" !== i && (t("body").hasClass("rtl") && (i.rtl = !0), i.prevArrow = '<span class="fa fa-angle-left prev"></span>', i.nextArrow = '<span class="fa fa-angle-right next"></span>', ("" !== a || void 0 !== a) && (i.responsive = a),
                    setTimeout(function () { e.slick(i) }, 10, e, i))
            })
        }, t.fn.ovic_init_lazy_load = function () {
            t(this).each(function () {
                var e = t(this), a = []; a.beforeLoad = function (t) { t.is("div") === !0 ? t.addClass("loading-lazy") : t.parent().addClass("loading-lazy") }, a.afterLoad = function (t) { t.is("div") === !0 ? t.removeClass("loading-lazy") : t.parent().removeClass("loading-lazy") },
                    a.onFinishedAll = function () { this.config("autoDestroy") || this.destroy() }, a.effect = "fadeIn", a.enableThrottle = !0, a.throttle = 250, a.effectTime = 600, e.closest(".ovic-menu-clone-wrap").find(".ovic-menu-panel").length && (a.appendScroll = e.closest(".ovic-menu-clone-wrap").find(".ovic-menu-panel")), e.lazy(a)
            })
        }, t.fn.ovic_alert_variable_product = function () {
            var e = t(this); e.on("ovic_alert_variable_product", function () { t(this).hasClass("disabled") ? t(this).popover({ content: "Plz Select option before Add To Cart.", trigger: "hover", placement: "bottom" }) : t(this).popover("destroy") }).trigger("ovic_alert_variable_product"),
                t(document).on("change", function () { e.trigger("ovic_alert_variable_product") })
        }, t(document).on("click", function (e) { var a = t(e.target).closest(".ovic-dropdown"), i = t(".ovic-dropdown"); a.length > 0 ? (i.not(a).removeClass("open"), (t(e.target).is('[data-ovic="ovic-dropdown"]') || t(e.target).closest('[data-ovic="ovic-dropdown"]').length > 0) && (a.toggleClass("open"), e.preventDefault())) : t(".ovic-dropdown").removeClass("open") }),
        t.fn.ovic_better_equal_elems = function () {
            var e = t(this); e.on("ovic_better_equal_elems",
                function () { setTimeout(function () { e.each(function () { if (t(this).find(".equal-elem").length) { t(this).find(".equal-elem").css({ height: "auto" }); var e = 0; t(this).find(".equal-elem").each(function () { e < t(this).height() && (e = t(this).height()) }), t(this).find(".equal-elem").height(e) } }) }, 100) }).trigger("ovic_better_equal_elems"), t(window).on("resize", function () { e.trigger("ovic_better_equal_elems") })
        }, t.fn.ovic_gallery_images = function () {
            var e = t(this); e.on("ovic_gallery_images",
                function () { e.each(function () { t(this).magnificPopup({ type: "image", mainClass: "mfp-with-zoom", delegate: "a", gallery: { enabled: !0 }, zoom: { enabled: !0, duration: 300, easing: "ease-in-out", opener: function (t) { return t.is("img") ? t : t.find("img") } } }) }) }).trigger("ovic_gallery_images")
        },
        t(document).on("click", ".ovic-tabs .tab-link a, .ovic-accordion .panel-heading a", function (e) {
            e.preventDefault();
            var tp = $(this).data("type");
            var a = t(this);
            var o = a.attr("href");
            t(o).closest(".tab-container,.ovic-accordion").addClass("loading");
            a.parent().addClass("active").siblings().removeClass("active");
            t.ajax({
                type: "POST",
                url: "/product/getByCategory",
                data: { id: $(this).data("id"), type: $(this).data("type") },
                success: function (e) {
                    setTimeout(function () {
                        a.parents(".ovic-tabs").find(".product-list-owl").removeClass("slick-initialized");
                        var element = "#feature-pr-content";
                        if (tp == "sale") {
                            element = "#sale-pr-content";
                        }
                        if (e == null || e.trim() == "") {
                            $(element).html("<strong>Sản phẩm đang cập nhật.</strong>");
                        } else {
                            $(element).html(e);
                        }

                        $(".owl-slick").ovic_init_carousel();
                        if ($('.gokko-countdown').length > 0) {
                            $('.gokko-countdown').each(function () {
                                $(this).gokko_countdown();
                            });
                        }
                        t(".tab-container,.ovic-accordion").removeClass("loading");
                    }, 500);
                }
            });
        });
    var e = function (e) { var a = {}, i = e.serializeArray(); return t.each(i, function () { a[this.name] ? (a[this.name].push || (a[this.name] = [a[this.name]]), a[this.name].push(this.value || "")) : a[this.name] = this.value || "" }), a }; t(document).on("click", ".product:not(.product-type-external) .single_add_to_cart_button", function (a) { var i = t(this); if (!i.hasClass("disabled") && 1 == ovic_ajax_frontend.single_add_to_cart) { var o = i.closest("form"), n = e(o); i.val() && (n.product_id = i.val()), i.addClass("loading"), t(document.body).trigger("adding_to_cart", [i, n]), t.post(ovic_ajax_frontend.ovic_ajax_url.toString().replace("%%endpoint%%", "ovic_add_to_cart_single"), n, function (e) { return i.removeClass("loading"), e ? "yes" === wc_add_to_cart_params.cart_redirect_after_add ? void (window.location = wc_add_to_cart_params.cart_url) : void t(document.body).trigger("added_to_cart", [e.fragments, e.cart_hash, i]) : void 0 }), a.preventDefault() } }), t.fn.ovic_add_notify = function (e) {
        var a = [], i = "", o = t(this), n = o.closest(".product-item").find("img.wp-post-image"), s = o.attr("aria-label"); if (a.duration = ovic_ajax_frontend.growl_duration, a.title = ovic_ajax_frontend.growl_notice_text, o.removeClass("loading"), n.length || (n = o.closest("tr").find(".product-thumbnail img")), n.length || (n = o.closest(".product").find(".woocommerce-product-gallery__wrapper img")), ("undefined" == typeof s || "" === s) && (s = o.closest(".product").find(".summary .product_title").text().trim()), o.closest(".mini_cart_item").length && (n = o.closest(".mini_cart_item").find("a > img"), s = o.closest(".mini_cart_item").find("a:not(.remove)").clone().children().remove().end().text()),
            setTimeout(function () { o.removeClass("added").removeClass("recent-added"), o.next(".added_to_cart").remove() }, 3e3, o), ("undefined" == typeof s || "" === s) && (s = o.closest(".product-item").find(".product_title a").text().trim()), "undefined" != typeof s && "" !== s) { var c = s.indexOf("â€œ") + 1, l = s.indexOf("â€"), s = c > 1 ? s.slice(c, l) : s; s = "<span>" + s + "</span>" } else s = ""; n.length && (i = '<figure><img src="' + n.attr("src") + '" alt="' + s + '" class="growl-thumb" /></figure>'), a.message = i + '<p class="growl-content">' + s + e + "</p>", t.growl.notice(a)
    }, t(document.body).on("removed_from_cart", function (t, e, a, i) {
        i.ovic_add_notify(ovic_ajax_frontend.removed_cart_text)
    }),
        t(document).on("click", function (e) { var a = t(e.target).closest("#growls-default"); t("#growls-default"); a.length || t(".growl-close").trigger("click") }), t(document).on("change", ".per-page-form .option-perpage", function () { t(this).closest("form").submit() }), t(document).on("vc-full-width-row", function (e) { if (t(e.target).find('[data-vc-full-width="true"]').length) { var a = t(e.target).find('[data-vc-full-width="true"]'); t.each(a, function () { t(this).css("padding-left", t(this).css("padding-right")) }) } }), t(document).on("qv_loader_stop", function (e) { t(e.target).find(".flex-control-thumbs").length > 0 && t(e.target).find(".flex-control-thumbs").ovic_product_thumb() }), t(document).on("wc-product-gallery-after-init", function (e, a) { t(a).find(".flex-control-thumbs").length && t(a).find(".flex-control-thumbs").ovic_product_thumb() }), t(document).ajaxComplete(function (e, a) { 200 == a.status && a.responseText && e.target && t(e.target).find(".lazy").length > 0 && t(e.target).find(".lazy").ovic_init_lazy_load() }),
        window.addEventListener("load", function a() {
            window.removeEventListener("load", a, !1), t(".owl-slick").length > 0 && t(".owl-slick").ovic_init_carousel(), t(".lazy").length > 0 && t(".lazy").ovic_init_lazy_load(), t(".category-search-option").length > 0 && t(".category-search-option").chosen(), t(".single_add_to_cart_button").length > 0 && t(".single_add_to_cart_button").ovic_alert_variable_product(), t(".block-nav-category").length > 0 && t(".block-nav-category").ovic_vertical_menu(), t(".ovic-gallery-image").length > 0 && t(".ovic-gallery-image").ovic_gallery_images(), t(".equal-container.better-height").length > 0 && t(".equal-container.better-height").ovic_better_equal_elems()
        }, !1
        )
}(window.jQuery);